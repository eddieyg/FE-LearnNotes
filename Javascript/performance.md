# 性能优化

## 编码优化
### 数据读取
- 字面量与局部变量的访问速度较快，数组元素和对象成员相对较慢
- 对象的嵌套的越深，读取速度就越慢
- 手动释放无用变量引用
### DOM操作
- JS中访问DOM时间较长，可缓存到变量，重复引用
- DOM操作会引起重排与重绘，多次（适当）操作集中为一次性操作（防抖节流）
- js引擎执行栈会阻塞UI渲染，避免执行栈任务过长，影响页面渲染卡顿
- 避免事件监听对象过多，合理使用事件委托等

## 渲染路径优化
- HTML `script` 标签会阻塞DOM解析，放在body底部，或者放在head 使用按async、defer异步属性
- css也会阻塞DOM解析，避免使用@import串行加载
- 使用Preload进行CSS资源的预加载（不阻塞渲染）`<link rel="preload" href="" as="style">`

## 构建优化
- 代码的压缩、清除无用代码
- 公共代码分离
- 使用预编译（vue-loader模板编译成渲染函数）
- 使用字体图标，减少图片请求数量
- 使用资源CDN

## 缓存优化
- 本地存储不常变化的数据
- 设置资源有限时间 expires、cache-control、max-age等http头部

## 策略优化
- 图片、资源、组件的懒加载和预加载
- 时间切片